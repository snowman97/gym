/*! Sortable 1.4.2 - MIT | git://github.com/rubaxa/Sortable.git */
!function(a){"use strict";"function"==typeof define&&define.amd?define(["jquery"],a):a(jQuery)}(function(a){"use strict";function b(a,b){if(!a||!a.nodeType||1!==a.nodeType)throw"Sortable: `el` must be HTMLElement, and not "+{}.toString.call(a);this.el=a,this.options=b=t({},b),a[N]=this;var c={group:Math.random(),sort:!0,disabled:!1,store:null,handle:null,scroll:!0,scrollSensitivity:30,scrollSpeed:10,draggable:/[uo]l/i.test(a.nodeName)?"li":">*",ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",ignore:"a, img",filter:null,animation:0,setData:function(a,b){a.setData("Text",b.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1};for(var d in c)!(d in b)&&(b[d]=c[d]);X(b);for(var e in this)"_"===e.charAt(0)&&(this[e]=this[e].bind(this));this.nativeDraggable=b.forceFallback?!1:R,f(a,"mousedown",this._onTapStart),f(a,"touchstart",this._onTapStart),this.nativeDraggable&&(f(a,"dragover",this),f(a,"dragenter",this)),V.push(this._onDragOver),b.store&&this.sort(b.store.get(this))}function c(a){x&&x.state!==a&&(i(x,"display",a?"none":""),!a&&x.state&&y.insertBefore(x,u),x.state=a)}function d(a,b,c){if(a){c=c||P;do if(">*"===b&&a.parentNode===c||r(a,b))return a;while(a!==c&&(a=a.parentNode))}return null}function e(a){a.dataTransfer&&(a.dataTransfer.dropEffect="move"),a.preventDefault()}function f(a,b,c){a.addEventListener(b,c,!1)}function g(a,b,c){a.removeEventListener(b,c,!1)}function h(a,b,c){if(a)if(a.classList)a.classList[c?"add":"remove"](b);else{var d=(" "+a.className+" ").replace(M," ").replace(" "+b+" "," ");a.className=(d+(c?" "+b:"")).replace(M," ")}}function i(a,b,c){var d=a&&a.style;if(d){if(void 0===c)return P.defaultView&&P.defaultView.getComputedStyle?c=P.defaultView.getComputedStyle(a,""):a.currentStyle&&(c=a.currentStyle),void 0===b?c:c[b];b in d||(b="-webkit-"+b),d[b]=c+("string"==typeof c?"":"px")}}function j(a,b,c){if(a){var d=a.getElementsByTagName(b),e=0,f=d.length;if(c)for(;f>e;e++)c(d[e],e);return d}return[]}function k(a,b,c,d,e,f,g){var h=P.createEvent("Event"),i=(a||b[N]).options,j="on"+c.charAt(0).toUpperCase()+c.substr(1);h.initEvent(c,!0,!0),h.to=b,h.from=e||b,h.item=d||b,h.clone=x,h.oldIndex=f,h.newIndex=g,b.dispatchEvent(h),i[j]&&i[j].call(a,h)}function l(a,b,c,d,e,f){var g,h,i=a[N],j=i.options.onMove;return g=P.createEvent("Event"),g.initEvent("move",!0,!0),g.to=b,g.from=a,g.dragged=c,g.draggedRect=d,g.related=e||b,g.relatedRect=f||b.getBoundingClientRect(),a.dispatchEvent(g),j&&(h=j.call(i,g)),h}function m(a){a.draggable=!1}function n(){T=!1}function o(a,b){var c=a.lastElementChild,d=c.getBoundingClientRect();return(b.clientY-(d.top+d.height)>5||b.clientX-(d.right+d.width)>5)&&c}function p(a){for(var b=a.tagName+a.className+a.src+a.href+a.textContent,c=b.length,d=0;c--;)d+=b.charCodeAt(c);return d.toString(36)}function q(a,b){var c=0;if(!a||!a.parentNode)return-1;for(;a&&(a=a.previousElementSibling);)"TEMPLATE"!==a.nodeName.toUpperCase()&&r(a,b)&&c++;return c}function r(a,b){if(a){b=b.split(".");var c=b.shift().toUpperCase(),d=new RegExp("\\s("+b.join("|")+")(?=\\s)","g");return!(""!==c&&a.nodeName.toUpperCase()!=c||b.length&&((" "+a.className+" ").match(d)||[]).length!=b.length)}return!1}function s(a,b){var c,d;return function(){void 0===c&&(c=arguments,d=this,setTimeout(function(){1===c.length?a.call(d,c[0]):a.apply(d,c),c=void 0},b))}}function t(a,b){if(a&&b)for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a}var u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L={},M=/\s+/g,N="Sortable"+(new Date).getTime(),O=window,P=O.document,Q=O.parseInt,R=!!("draggable"in P.createElement("div")),S=function(a){return a=P.createElement("x"),a.style.cssText="pointer-events:auto","auto"===a.style.pointerEvents}(),T=!1,U=Math.abs,V=([].slice,[]),W=s(function(a,b,c){if(c&&b.scroll){var d,e,f,g,h=b.scrollSensitivity,i=b.scrollSpeed,j=a.clientX,k=a.clientY,l=window.innerWidth,m=window.innerHeight;if(B!==c&&(A=b.scroll,B=c,A===!0)){A=c;do if(A.offsetWidth<A.scrollWidth||A.offsetHeight<A.scrollHeight)break;while(A=A.parentNode)}A&&(d=A,e=A.getBoundingClientRect(),f=(U(e.right-j)<=h)-(U(e.left-j)<=h),g=(U(e.bottom-k)<=h)-(U(e.top-k)<=h)),f||g||(f=(h>=l-j)-(h>=j),g=(h>=m-k)-(h>=k),(f||g)&&(d=O)),(L.vx!==f||L.vy!==g||L.el!==d)&&(L.el=d,L.vx=f,L.vy=g,clearInterval(L.pid),d&&(L.pid=setInterval(function(){d===O?O.scrollTo(O.pageXOffset+f*i,O.pageYOffset+g*i):(g&&(d.scrollTop+=g*i),f&&(d.scrollLeft+=f*i))},24)))}},30),X=function(a){var b=a.group;b&&"object"==typeof b||(b=a.group={name:b}),["pull","put"].forEach(function(a){a in b||(b[a]=!0)}),a.groups=" "+b.name+(b.put.join?" "+b.put.join(" "):"")+" "};b.prototype={constructor:b,_onTapStart:function(a){var b=this,c=this.el,e=this.options,f=a.type,g=a.touches&&a.touches[0],h=(g||a).target,i=h,j=e.filter;if(!("mousedown"===f&&0!==a.button||e.disabled)&&(h=d(h,e.draggable,c))){if(F=q(h,e.draggable),"function"==typeof j){if(j.call(this,a,h,this))return k(b,i,"filter",h,c,F),void a.preventDefault()}else if(j&&(j=j.split(",").some(function(a){return a=d(i,a.trim(),c),a?(k(b,a,"filter",h,c,F),!0):void 0})))return void a.preventDefault();(!e.handle||d(i,e.handle,c))&&this._prepareDragStart(a,g,h)}},_prepareDragStart:function(a,b,c){var d,e=this,g=e.el,i=e.options,k=g.ownerDocument;c&&!u&&c.parentNode===g&&(I=a,y=g,u=c,v=u.parentNode,z=u.nextSibling,H=i.group,d=function(){e._disableDelayedDrag(),u.draggable=!0,h(u,e.options.chosenClass,!0),e._triggerDragStart(b)},i.ignore.split(",").forEach(function(a){j(u,a.trim(),m)}),f(k,"mouseup",e._onDrop),f(k,"touchend",e._onDrop),f(k,"touchcancel",e._onDrop),i.delay?(f(k,"mouseup",e._disableDelayedDrag),f(k,"touchend",e._disableDelayedDrag),f(k,"touchcancel",e._disableDelayedDrag),f(k,"mousemove",e._disableDelayedDrag),f(k,"touchmove",e._disableDelayedDrag),e._dragStartTimer=setTimeout(d,i.delay)):d())},_disableDelayedDrag:function(){var a=this.el.ownerDocument;clearTimeout(this._dragStartTimer),g(a,"mouseup",this._disableDelayedDrag),g(a,"touchend",this._disableDelayedDrag),g(a,"touchcancel",this._disableDelayedDrag),g(a,"mousemove",this._disableDelayedDrag),g(a,"touchmove",this._disableDelayedDrag)},_triggerDragStart:function(a){a?(I={target:u,clientX:a.clientX,clientY:a.clientY},this._onDragStart(I,"touch")):this.nativeDraggable?(f(u,"dragend",this),f(y,"dragstart",this._onDragStart)):this._onDragStart(I,!0);try{P.selection?P.selection.empty():window.getSelection().removeAllRanges()}catch(b){}},_dragStarted:function(){y&&u&&(h(u,this.options.ghostClass,!0),b.active=this,k(this,y,"start",u,y,F))},_emulateDragOver:function(){if(J){if(this._lastX===J.clientX&&this._lastY===J.clientY)return;this._lastX=J.clientX,this._lastY=J.clientY,S||i(w,"display","none");var a=P.elementFromPoint(J.clientX,J.clientY),b=a,c=" "+this.options.group.name,d=V.length;if(b)do{if(b[N]&&b[N].options.groups.indexOf(c)>-1){for(;d--;)V[d]({clientX:J.clientX,clientY:J.clientY,target:a,rootEl:b});break}a=b}while(b=b.parentNode);S||i(w,"display","")}},_onTouchMove:function(a){if(I){b.active||this._dragStarted(),this._appendGhost();var c=a.touches?a.touches[0]:a,d=c.clientX-I.clientX,e=c.clientY-I.clientY,f=a.touches?"translate3d("+d+"px,"+e+"px,0)":"translate("+d+"px,"+e+"px)";K=!0,J=c,i(w,"webkitTransform",f),i(w,"mozTransform",f),i(w,"msTransform",f),i(w,"transform",f),a.preventDefault()}},_appendGhost:function(){if(!w){var a,b=u.getBoundingClientRect(),c=i(u),d=this.options;w=u.cloneNode(!0),h(w,d.ghostClass,!1),h(w,d.fallbackClass,!0),i(w,"top",b.top-Q(c.marginTop,10)),i(w,"left",b.left-Q(c.marginLeft,10)),i(w,"width",b.width),i(w,"height",b.height),i(w,"opacity","0.8"),i(w,"position","fixed"),i(w,"zIndex","100000"),i(w,"pointerEvents","none"),d.fallbackOnBody&&P.body.appendChild(w)||y.appendChild(w),a=w.getBoundingClientRect(),i(w,"width",2*b.width-a.width),i(w,"height",2*b.height-a.height)}},_onDragStart:function(a,b){var c=a.dataTransfer,d=this.options;this._offUpEvents(),"clone"==H.pull&&(x=u.cloneNode(!0),i(x,"display","none"),y.insertBefore(x,u)),b?("touch"===b?(f(P,"touchmove",this._onTouchMove),f(P,"touchend",this._onDrop),f(P,"touchcancel",this._onDrop)):(f(P,"mousemove",this._onTouchMove),f(P,"mouseup",this._onDrop)),this._loopId=setInterval(this._emulateDragOver,50)):(c&&(c.effectAllowed="move",d.setData&&d.setData.call(this,c,u)),f(P,"drop",this),setTimeout(this._dragStarted,0))},_onDragOver:function(a){var b,e,f,g=this.el,h=this.options,j=h.group,k=j.put,m=H===j,p=h.sort;if(void 0!==a.preventDefault&&(a.preventDefault(),!h.dragoverBubble&&a.stopPropagation()),K=!0,H&&!h.disabled&&(m?p||(f=!y.contains(u)):H.pull&&k&&(H.name===j.name||k.indexOf&&~k.indexOf(H.name)))&&(void 0===a.rootEl||a.rootEl===this.el)){if(W(a,h,this.el),T)return;if(b=d(a.target,h.draggable,g),e=u.getBoundingClientRect(),f)return c(!0),void(x||z?y.insertBefore(u,x||z):p||y.appendChild(u));if(0===g.children.length||g.children[0]===w||g===a.target&&(b=o(g,a))){if(b){if(b.animated)return;r=b.getBoundingClientRect()}c(m),l(y,g,u,e,b,r)!==!1&&(u.contains(g)||(g.appendChild(u),v=g),this._animate(e,u),b&&this._animate(r,b))}else if(b&&!b.animated&&b!==u&&void 0!==b.parentNode[N]){C!==b&&(C=b,D=i(b),E=i(b.parentNode));var q,r=b.getBoundingClientRect(),s=r.right-r.left,t=r.bottom-r.top,A=/left|right|inline/.test(D.cssFloat+D.display)||"flex"==E.display&&0===E["flex-direction"].indexOf("row"),B=b.offsetWidth>u.offsetWidth,F=b.offsetHeight>u.offsetHeight,G=(A?(a.clientX-r.left)/s:(a.clientY-r.top)/t)>.5,I=b.nextElementSibling,J=l(y,g,u,e,b,r);if(J!==!1){if(T=!0,setTimeout(n,30),c(m),1===J||-1===J)q=1===J;else if(A){var L=u.offsetTop,M=b.offsetTop;q=L===M?b.previousElementSibling===u&&!B||G&&B:M>L}else q=I!==u&&!F||G&&F;u.contains(g)||(q&&!I?g.appendChild(u):b.parentNode.insertBefore(u,q?I:b)),v=u.parentNode,this._animate(e,u),this._animate(r,b)}}}},_animate:function(a,b){var c=this.options.animation;if(c){var d=b.getBoundingClientRect();i(b,"transition","none"),i(b,"transform","translate3d("+(a.left-d.left)+"px,"+(a.top-d.top)+"px,0)"),b.offsetWidth,i(b,"transition","all "+c+"ms"),i(b,"transform","translate3d(0,0,0)"),clearTimeout(b.animated),b.animated=setTimeout(function(){i(b,"transition",""),i(b,"transform",""),b.animated=!1},c)}},_offUpEvents:function(){var a=this.el.ownerDocument;g(P,"touchmove",this._onTouchMove),g(a,"mouseup",this._onDrop),g(a,"touchend",this._onDrop),g(a,"touchcancel",this._onDrop)},_onDrop:function(a){var c=this.el,d=this.options;clearInterval(this._loopId),clearInterval(L.pid),clearTimeout(this._dragStartTimer),g(P,"mousemove",this._onTouchMove),this.nativeDraggable&&(g(P,"drop",this),g(c,"dragstart",this._onDragStart)),this._offUpEvents(),a&&(K&&(a.preventDefault(),!d.dropBubble&&a.stopPropagation()),w&&w.parentNode.removeChild(w),u&&(this.nativeDraggable&&g(u,"dragend",this),m(u),h(u,this.options.ghostClass,!1),h(u,this.options.chosenClass,!1),y!==v?(G=q(u,d.draggable),G>=0&&(k(null,v,"sort",u,y,F,G),k(this,y,"sort",u,y,F,G),k(null,v,"add",u,y,F,G),k(this,y,"remove",u,y,F,G))):(x&&x.parentNode.removeChild(x),u.nextSibling!==z&&(G=q(u,d.draggable),G>=0&&(k(this,y,"update",u,y,F,G),k(this,y,"sort",u,y,F,G)))),b.active&&((null===G||-1===G)&&(G=F),k(this,y,"end",u,y,F,G),this.save())),y=u=v=w=z=x=A=B=I=J=K=G=C=D=H=b.active=null)},handleEvent:function(a){var b=a.type;"dragover"===b||"dragenter"===b?u&&(this._onDragOver(a),e(a)):("drop"===b||"dragend"===b)&&this._onDrop(a)},toArray:function(){for(var a,b=[],c=this.el.children,e=0,f=c.length,g=this.options;f>e;e++)a=c[e],d(a,g.draggable,this.el)&&b.push(a.getAttribute(g.dataIdAttr)||p(a));return b},sort:function(a){var b={},c=this.el;this.toArray().forEach(function(a,e){var f=c.children[e];d(f,this.options.draggable,c)&&(b[a]=f)},this),a.forEach(function(a){b[a]&&(c.removeChild(b[a]),c.appendChild(b[a]))})},save:function(){var a=this.options.store;a&&a.set(this)},closest:function(a,b){return d(a,b||this.options.draggable,this.el)},option:function(a,b){var c=this.options;return void 0===b?c[a]:(c[a]=b,void("group"===a&&X(c)))},destroy:function(){var a=this.el;a[N]=null,g(a,"mousedown",this._onTapStart),g(a,"touchstart",this._onTapStart),this.nativeDraggable&&(g(a,"dragover",this),g(a,"dragenter",this)),Array.prototype.forEach.call(a.querySelectorAll("[draggable]"),function(a){a.removeAttribute("draggable")}),V.splice(V.indexOf(this._onDragOver),1),this._onDrop(),this.el=a=null}},b.utils={on:f,off:g,css:i,find:j,is:function(a,b){return!!d(a,b,a)},extend:t,throttle:s,closest:d,toggleClass:h,index:q},b.create=function(a,c){return new b(a,c)},a.fn.sortable=function(c){var d,e=arguments;return this.each(function(){var f=a(this),g=f.data("sortable");if(g||!(c instanceof Object)&&c||(g=new b(this,c),f.data("sortable",g)),g){if("widget"===c)return g;"destroy"===c?(g.destroy(),f.removeData("sortable")):"function"==typeof g[c]?d=g[c].apply(g,[].slice.call(e,1)):c in g.options&&(d=g.option.apply(g,e))}}),void 0===d?this:d}});